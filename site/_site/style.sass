@import url(https://cdn.jsdelivr.net/gh/tonsky/FiraCode@4/distr/fira_code.css)

:root
    /* dark gruvbox theme colors again */
    --bg_h: #1d2021
    --bg: #282828
    --bg_s: #32302f
    --bg1: #3c3836
    --bg2: #504945
    --bg3: #665c54
    --bg4: #7c6f64

    --fg: #fbf1c7
    --fg1: #ebdbb2
    --fg2: #d5c4a1
    --fg3: #bdae93
    --fg4: #a89984

    --red: #fb4934
    --green: #b8bb26
    --yellow: #fabd2f
    --blue: #83a598
    --purple: #d3869b
    --aqua: #8ec07c
    --gray: #928374
    --orange: #fe8019

    --red-dim: #cc2412
    --green-dim: #98971a
    --yellow-dim: #d79921
    --blue-dim: #458588
    --purple-dim: #b16286
    --aqua-dim: #689d6a
    --gray-dim: #a89984
    --orange-dim: #d65d0e

    --white: #ffffff

    --alpha-red: transparentize(var(--red), 34%)
    --alpha-white: transparentize(var(--white), 34%)
    --header-height: 6rem

@media (prefers-color-scheme: light)
    :root
        /* light gruvbox theme colors */
        --bg: #f9f5d7
        --bg_h: #fbf1c7
        --bg_s: #f2e5bc
        --bg1: #ebdbb2
        --bg2: #d5c4a1
        --bg3: #bdae93
        --bg4: #a89984

        --fg: #282828
        --fg1: #3c3836
        --fg2: #504945
        --fg3: #665c54
        --fg4: #7c6f64

        --red: #9d0006
        --green: #79740e
        --yellow: #b57614
        --blue: #076678
        --purple: #8f3f71
        --aqua: #427b58
        --orange: #af3a03
        --gray: #928374

        --red-dim: #cc2412
        --green-dim: #98971a
        --yellow-dim: #d79921
        --blue-dim: #458598
        --purple-dim: #b16286
        --aqua-dim: #689d6a
        --orange-dim: #d65d0e
        --gray-dim: #7c6f64

        --alpha-red: transparentize(var(--red), 34%)
        --link-color: var(--blue-dim)

$alpha-white: rgba(256, 256, 256, 0.66)
$font_headers: 'Playfair Display', serif
$font_body: 'Fira Code', sans-serif

*,*::before,*::after,:root
    box-sizing: border-box
    //transform-style: preserve-3d

body
    //overflow-x: scroll
    //overflow-y: scrollcolor-mix(in srgb, var(--red) 66%, 
    //height: 100%
    margin: 0
    color: var(--fg)
    background-image: linear-gradient(-8deg, var(--bg) 0 50vh, var(--bg1) 50vh 100vh)
    background-attachment: fixed
    //display: flex
    //flex-flow: column nowrap
    font-family: $font_body
    font-size: 14px
    //perspective: 1px
/*body::before
 content: ''
 position: absolute
 top: 0
 left: 0
 right: 0
 bottom: 0
 display: block
 background-size: cover
 min-height: 200% // TODO : BIG HACK, needs remplacement
 background-image: repeating-linear-gradient(-10deg, var(--bg) 0 50rem, var(--bg1) 50rem 100rem)
 //transform: translateZ(-.5px) translate(-20%, -20%)
 width: 100%

#body
    position: relative
    min-height: 100vh
    width: fit-content
    margin: auto
    //transform-style: preserve-3d
    //transform: translateZ(-.1px) translate(-4%, -1%)
    //position: absolute
    //top: 6rem
    display: grid
    column-gap: 1rem
    margin-top: 2rem
    margin-bottom: 2rem
a
    color: var(--blue)
a:hover
    color: var(--blue-dim)

a:active
    color: var(--blue)

::selection
    color: #ffffff
    background-color: var(--red)
    text-shadow: $alpha-white 0 0 .25em

header
    background-color: var(--bg_h)
    border-bottom: solid thin var(--red)
    font-family: $font_headers
    box-shadow: var(--alpha-red) 0 0 10px 0
    padding-left: 1rem
    position: sticky
    top: 0
    width: 100%
    height: var(--header-height)
    z-index: 100
    border-image: linear-gradient(170deg, var(--red) 50%, var(--white)) 100
    h1
        margin: 0
        padding: 1rem
        a
            color: var(--fg) !important
            text-decoration: none !important

h1,h2
    font-family: $font_headers

@mixin strength($color-1, $color-2, $percentage)
    height: 0.5em
    width: 8em
    min-width: 8em
    margin-left: 1rem
    border-radius: 0.1rem
    display: inline-block
    //background-color: $color-1
    box-shadow: $color-1 0px 0px 2px
    background-image: linear-gradient(90deg, $color-1 0%, $percentage, $color-2 $percentage)

.strength-1
    @include strength(var(--red), transparent, 30%)
.strength-2
    @include strength(var(--red), transparent, 50%)
.strength-3
    @include strength(var(--red), transparent, 70%)
.strength-4
    @include strength(var(--red), transparent, 90%)
.strength-item
    display: flex
    flex-flow: row nowrap
    justify-content: space-between
    align-items: baseline
a.strength-item:hover
    .strength-1
        @include strength(var(--white), transparent, 30%)
    .strength-2
        @include strength(var(--white), transparent, 50%)
    .strength-3
        @include strength(var(--white), transparent, 70%)
    .strength-4
        @include strength(var(--white), transparent, 90%)

nav#sidebar
    grid-column: 1
    grid-row: 1
    color: var(--fg1)
    font-style: italic
    height: min-content
    max-height: calc(100vh - var(--header-height) - 4rem)
    overflow: auto
    width: 24rem
    position: sticky
    top: calc(var(--header-height) + 2rem)
    h2
        font-style: normal
        font-size: large
    section
        border: solid thin #ffffff
        box-shadow: var(--alpha-red) 0 0 5px, inset var(--red) 0 0 5px
        margin-bottom: 1rem
        padding: 0 1rem 0 1rem
        border: var(--fg) solid thin
        border-radius: 5px
        background-color: var(--bg)
    section#navmenu
        overflow: hidden
        padding: 0
    a
        text-decoration: none
        color: var(--fg)
        &:hover
            color: var(--fg2)
    a.button
        padding: 0.5rem
        text-align: center
        display: block
        font-style: normal
        font-weight: bold
        margin: 0 .5rem 0 .5rem
    a.button:not(:last-child)
        border-bottom: solid thin var(--fg)
    a.current::before
        content: "> "
        float: left

.subtitle
    font-size: 0.75em
    font-weight: 200
    font-family: 'Fira Sans', sans-serif
    font-style: italic

#content-wrapper
    display: flex
    flex-flow: column nowrap
    flex-grow: 1
    width: fit-content
    height: fit-content
    grid-column: 2
    grid-row: 1
    border: var(--fg) thin solid
    border-radius: 5px
    background: var(--bg)
    padding-left: 1rem
    padding-right: 1rem

#content
    //z-index: -1
    max-width: 50rem
    align-self: center
    p
        margin-top: 0.5rem
        margin-bottom: 0.5rem
    h1
        font-size: 20px
    h2
        font-size: 15px
    .item
        border-left: solid 2px transparent
        padding-left: 1rem
        padding-right: 1rem
        &:hover
            border-left: 2px var(--fg) solid

.icon
    display: inline-block
    width: 2em
    margin-right: 1em

#sidebar-wrapper
    width: min-content
    height: min-content

#canvas-1
    position: absolute
    top: 0
    left: 0
    width: 100%
    height: 100%

pre
    padding: 0.5rem
    background-color: var(--bg1)
    border-radius: 0.2rem
    border: thin solid var(--fg4)
